<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Google Analytics</title>
</head>
<body>
    <h1>Google Analytics Test</h1>
    <button onclick="testGA()">Test Google Analytics</button>
    <button onclick="testEvents()">Test Events</button>
    <button onclick="checkDataLayer()">Check DataLayer</button>
    
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-C4NFL3C9TF"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-C4NFL3C9TF');
      
      console.log('üîç Google Analytics initialized with ID: G-C4NFL3C9TF');
    </script>
    
    <script>
        function testGA() {
            console.log('üß™ Testing Google Analytics...');
            console.log('üîç gtag available:', typeof window.gtag);
            console.log('üîç dataLayer available:', typeof window.dataLayer);
            console.log('üîç dataLayer length:', window.dataLayer.length);
            
            if (typeof window.gtag === 'function') {
                window.gtag('event', 'test_event', {
                    event_category: 'Test',
                    event_label: 'Manual Test',
                    value: 1
                });
                console.log('‚úÖ Test event sent');
            } else {
                console.error('‚ùå gtag not available');
            }
        }
        
        function testEvents() {
            console.log('üß™ Testing Events...');
            
            // Test page view
            window.gtag('event', 'page_view', {
                page_title: 'Test Page',
                page_location: window.location.href
            });
            
            // Test custom event
            window.gtag('event', 'test_interaction', {
                event_category: 'Test',
                event_label: 'Test Interaction',
                value: 1
            });
            
            // Test ecommerce event
            window.gtag('event', 'view_item', {
                currency: 'VND',
                value: 100000,
                items: [{
                    item_id: 'test_item',
                    item_name: 'Test Product',
                    item_category: 'Test Category',
                    quantity: 1,
                    price: 100000
                }]
            });
            
            console.log('‚úÖ All test events sent');
        }
        
        function checkDataLayer() {
            console.log('üîç Checking DataLayer...');
            console.log('üìä DataLayer contents:', window.dataLayer);
            console.log('üìä DataLayer length:', window.dataLayer.length);
            
            // Show last 5 items
            const recent = window.dataLayer.slice(-5);
            console.log('üìä Recent DataLayer items:', recent);
        }
        
        // Auto-test on load
        window.addEventListener('load', () => {
            setTimeout(() => {
                testGA();
                checkDataLayer();
            }, 2000);
        });
    </script>
</body>
</html>
