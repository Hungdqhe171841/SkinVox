<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Blog Detail</title>
</head>
<body>
    <h1>Test Blog Detail</h1>
    
    <div>
        <h2>Test Blog Detail URLs</h2>
        <button onclick="testBlogDetail('68fb137a31bfdd166ac1e004')">Test Blog Detail 1</button>
        <button onclick="testBlogDetail('default1')">Test Blog Detail 2</button>
        <div id="result"></div>
    </div>
    
    <div>
        <h2>Test Blog API</h2>
        <button onclick="testBlogAPI()">Test Blog API</button>
        <div id="apiResult"></div>
    </div>
    
    <script>
        function log(message, elementId) {
            console.log(message);
            document.getElementById(elementId).innerHTML += '<div>' + message + '</div>';
        }
        
        function testBlogDetail(blogId) {
            log('ğŸ§ª Testing blog detail for ID: ' + blogId, 'result');
            
            const urls = [
                'https://skin-vox.vercel.app/blog/' + blogId,
                'https://skin-vox.vercel.app/blog-detail/' + blogId,
                'https://skin-vox.vercel.app/blog-detail/' + blogId + '/'
            ];
            
            urls.forEach((url, index) => {
                log('ğŸ“¤ Testing URL ' + (index + 1) + ': ' + url, 'result');
                
                // Test if URL exists
                fetch(url, { method: 'HEAD' })
                    .then(response => {
                        if (response.ok) {
                            log('âœ… URL ' + (index + 1) + ' is accessible', 'result');
                        } else {
                            log('âŒ URL ' + (index + 1) + ' returned status: ' + response.status, 'result');
                        }
                    })
                    .catch(error => {
                        log('âŒ URL ' + (index + 1) + ' error: ' + error.message, 'result');
                    });
            });
        }
        
        async function testBlogAPI() {
            log('ğŸ§ª Testing blog API...', 'apiResult');
            
            try {
                const response = await fetch('https://skinvox-backend.onrender.com/api/blog/blogs');
                log('ğŸ“Š API Response status: ' + response.status, 'apiResult');
                
                if (!response.ok) {
                    const errorText = await response.text();
                    log('âŒ API failed: ' + errorText, 'apiResult');
                    return;
                }
                
                const data = await response.json();
                log('âœ… API successful!', 'apiResult');
                log('ğŸ“Š Number of blogs: ' + (data.blogs ? data.blogs.length : 0), 'apiResult');
                
                if (data.blogs && data.blogs.length > 0) {
                    const firstBlog = data.blogs[0];
                    log('ğŸ“Š First blog ID: ' + firstBlog._id, 'apiResult');
                    log('ğŸ“Š First blog title: ' + firstBlog.title, 'apiResult');
                    
                    // Test blog detail API
                    try {
                        const detailResponse = await fetch('https://skinvox-backend.onrender.com/api/blog/blogs/' + firstBlog._id);
                        log('ğŸ“Š Blog detail API status: ' + detailResponse.status, 'apiResult');
                        
                        if (detailResponse.ok) {
                            const detailData = await detailResponse.json();
                            log('âœ… Blog detail API successful!', 'apiResult');
                            log('ğŸ“Š Blog detail title: ' + detailData.blog.title, 'apiResult');
                        } else {
                            log('âŒ Blog detail API failed: ' + detailResponse.status, 'apiResult');
                        }
                    } catch (error) {
                        log('âŒ Blog detail API error: ' + error.message, 'apiResult');
                    }
                }
            } catch (error) {
                log('âŒ API error: ' + error.message, 'apiResult');
            }
        }
    </script>
</body>
</html>
